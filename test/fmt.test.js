import { expect } from 'chai';

import { fmt } from '../src/fmt.js';

describe('::fmt', function () {
    [
        { n: 1n, s: '0.00000001' },
        { n: 21n, s: '0.00000021' },
        { n: 321n, s: '0.00000321' },
        { n: 4321n, s: '0.00004321' },
        { n: 54321n, s: '0.00054321' },
        { n: 654321n, s: '0.00654321' },
        { n: 7654321n, s: '0.07654321' },
        { n: 87654321n, s: '0.87654321' },
        { n: 9_8765_4321n, s: '9.87654321' },
        { n: 1_0000_0000n, s: '1.00000000' },
        { n: 20n, s: '0.00000020' },
        { n: 2000n, s: '0.00002000' },
        { n: 1234_0000_0000n, s: '1234.00000000' },
        { n: 1234567_0120_0340n, s: '1234567.01200340' },
    ].forEach(({ n, s }) => {
        it(`should format bigint \`${n}\` to \`${s}\``, function () {
            expect(fmt(n)).to.be.equal(s);
        });
    });
});
